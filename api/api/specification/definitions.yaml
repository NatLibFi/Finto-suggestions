# A common definitions file for Finto API endpoints

definitions:
  # According to JSON specification, the response needs to be an object at root-level
  # This format also allows for addition of later metadata to responses
  SuggestionResponse:
    type: object
    properties:
      data:
        $ref: "#/definitions/Suggestion"
  
  SuggestionResponseArray:
    type: object
    properties:
      data:
        type: array
        items:
          $ref: "#/definitions/Suggestion"

  Suggestion:
    type: object
    additionalProperties: false
    properties:
      preferred_label:
        $ref: "#/definitions/preferred_label"
      alternative_label:
        $ref: "#/definitions/alternative_label"
      status:
        $ref: "#/definitions/status"
      uri:
        $ref: "#/definitions/uri"
      suggestion_type:
        $ref: "#/definitions/suggestion_type"
      broader:
        $ref: "#/definitions/broader"
      narrower:
        $ref: "#/definitions/narrower"
      related:
        $ref: "#/definitions/related"
      group:
        $ref: "#/definitions/group"
      description:
        $ref: "#/definitions/description"
      reason:
        $ref: "#/definitions/reason"
      organization:
        $ref: "#/definitions/organization"
    required:
      - uri
      - preferred_label
      - suggestion_type

  PutSuggestion:
    type: object
    properties:
      preferred_label:
        $ref: "#/definitions/preferred_label"
      alternative_label:
        $ref: "#/definitions/alternative_label"
      status:
        $ref: "#/definitions/status"
      uri:
        $ref: "#/definitions/uri"
      suggestion_type:
        $ref: "#/definitions/suggestion_type"
      broader:
        $ref: "#/definitions/broader"
      narrower:
        $ref: "#/definitions/narrower"
      related:
        $ref: "#/definitions/related"
      group:
        $ref: "#/definitions/group"
      description:
        $ref: "#/definitions/description"
      reason:
        $ref: "#/definitions/reason"
      organization:
        $ref: "#/definitions/organization"
      modified:
        type: string
      created:
        type: string
      id:
        type: number

  preferred_label:
    type: object
    description: "Preferred label"
    properties:
      fi:
        type: string
        example: "kisu"
      en:
        type: string
        example: "cat"
      sv:
        type: string
        example: "katten"

  alternative_label:
    type: object
    description: "Alternative label"
    properties:
      fi:
        type: string
        example: "kisu"
      en:
        type: string
        example: "cat"
      sv:
        type: string
        example: "katten"

  status:
    type: number
    format: integer
    description: 'Processing state of a particular `Suggestion`. For example: 0 - closed, 1 - needs review, 2 - reviewed, 3 - accepted into vocabulary.'
    example: 0

  uri:
    type: string
    example: 'http://www.yso.fi/onto/ysa/Y505224'

  suggestion_type:
    type: number
    format: integer
    description: E.g. 0 for new concept suggestions and 1 for change suggestions
    example: 0

  broader:
    type: array
    items:
      type: string
      description: An array of broader concept URIs
    example:
      - 'http://www.yso.fi/onto/ysa/Y98177'

  narrower:
    type: array
    items:
      type: string
      description: An array of narrower concept URIs
    example:
      - 'http://www.yso.fi/onto/ysa/Y98176'

  related:
    type: array
    items:
      type: string
      description: An array of related concept URIs

  group:
    type: array
    items:
      type: string
      description: An array of group/collection uris the suggested concept is a member of
    example:
      - 'http://www.yso.fi/onto/ysa/ryhma_07'
      - 'http://www.yso.fi/onto/ysa/ryhma_09'

  description:
    type: string
    description: Additional information about the suggested concept
    example: "Kissaeläimiin kuuluva nelijalkainen nisäkäs."

  reason:
    type: string
    description: Additional notes on why the suggested concept is necessary. What is the concept needed for (e.g. a ISBN or the URL of a document)?
    example: 'KULOssa ja MAO-ontologiassa. Ei ole käytetty kovin usein sisällönkuvailuun, mutta vaikea korvata muulla asiasanalla.'

  organization:
    type: string
    description: Organization of the suggester
    example: Ankkalinnan kaupunki

